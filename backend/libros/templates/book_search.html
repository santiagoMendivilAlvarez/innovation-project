<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Buscar Libros</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        form { margin-bottom: 20px; }
        input[type="text"] { width: 300px; padding: 8px; }
        button { padding: 8px 12px; }
        .book-card { border: 1px solid #ddd; padding: 20px; margin-bottom: 20px; display: flex; gap: 20px; }
        .book-card img { max-width: 120px; }
        .book-details { max-width: 600px; }
        .book-details h2 { margin: 0 0 10px 0; }
        .book-details p { margin: 5px 0; }
    </style>
</head>
<body>

<h1>Buscar Libros</h1>

<form method="get">
    <input type="text" name="q" placeholder="Escribe ISBN, título o autor..." value="{{ query }}">
    <button type="submit">Buscar</button>
</form>

{% if book_details %}
    {% if book_details.error %}
        <p>{{ book_details.error }}</p>
    {% else %}
        <div class="book-card">
            {% if book_details.thumbnail %}
                <img src="{{ book_details.thumbnail }}" alt="{{ book_details.title }}">
            {% endif %}
            <div class="book-details">
                <h2>{{ book_details.title }}</h2>
                {% if book_details.authors %}
                    <p><strong>Autores:</strong> {{ book_details.authors|join:", " }}</p>
                {% endif %}
                <p><strong>Editorial:</strong> {{ book_details.publisher }}</p>
                <p><strong>Publicado:</strong> {{ book_details.publishedDate }}</p>
                {% if book_details.pageCount != 'N/A' %}
                    <p><strong>Páginas:</strong> {{ book_details.pageCount }}</p>
                {% endif %}
                {% if book_details.categories %}
                    <p><strong>Categorías:</strong> {{ book_details.categories|join:", " }}</p>
                {% endif %}
                {% if book_details.description %}
                    <p><strong>Descripción:</strong> {{ book_details.description }}</p>
                {% endif %}
            </div>
        </div>
    {% endif %}
{% endif %}

</body>
</html>
